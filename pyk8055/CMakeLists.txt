if(${CMAKE_VERSION} VERSION_GREATER_EQUAL "3.13")
    CMAKE_POLICY(SET CMP0078 OLD)
    CMAKE_POLICY(SET CMP0086 OLD)
endif()

INCLUDE(${SWIG_USE_FILE})
INCLUDE_DIRECTORIES(
    ${PYTHON_INCLUDE_PATH}
    ${CMAKE_CURRENT_SOURCE_DIR}
    ${LIBUSB_INCLUDE_DIR}
    )
SET(CMAKE_SWIG_FLAGS "")

SET_SOURCE_FILES_PROPERTIES(libk8055.i PROPERTIES CPLUSPLUS OFF)
SET_SOURCE_FILES_PROPERTIES(libk8055.i PROPERTIES SWIG_FLAGS "-includeall")
if (CMAKE_VERSION VERSION_LESS "3.13")
    SWIG_ADD_MODULE(pyk8055 python libk8055.i ${CMAKE_SOURCE_DIR}/libk8055/libk8055.c)
else()
    SWIG_ADD_LIBRARY(pyk8055 LANGUAGE python TYPE MODULE SOURCES libk8055.i)
endif()
SWIG_LINK_LIBRARIES(pyk8055 ${PYTHON_LIBRARIES} ${LIBUSB_LDFLAGS} k8055)

#pyuic frmk8055qt.ui -o frmk8055qt.py
